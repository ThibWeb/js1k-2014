<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>JS1k, [COMPO] demo submission [ID]</title>
<meta charset="utf-8">
<style>
html, body { margin: 0; padding: 0; border: 0; }
#c { display: block; } /* kill scrollbars from hell */
</style>
</head>
<body>
<canvas height="550" style="width: 1161px; height: 550px;" width="1161" id="c"></canvas>
<script>
var a = document.getElementsByTagName('canvas')[0];
var b = document.body;
var d = function(e){ return function(){ e.parentNode.removeChild(e); }; }(a);
// unprefix some popular vendor prefixed things (but stick to their original name)
var AudioContext =
window.AudioContext ||
window.webkitAudioContext;
var requestAnimationFrame =
window.requestAnimationFrame ||
window.mozRequestAnimationFrame ||
window.webkitRequestAnimationFrame ||
window.msRequestAnimationFrame ||
function(f){ setTimeout(f, 1000/30); };
// stretch canvas to screen size (once, wont onresize!)
a.style.width = (a.width = innerWidth) + 'px';
a.style.height = (a.height = innerHeight) + 'px';

var c = a.getContext('2d');
</script>
<script>

var g=s=0,h=[],k=Y=x=y=p=0,l=a.width,m=a.height,n=Math;for(e in c)c[e[0]+e[2]+(e[6]||"")]=c[e];var q=[],r=c.ceR(0,0,0,0,0,l+m);r.addColorStop(0,"#1E80C2");r.addColorStop(1,"transparent");onmousemove=function(f){x=f.pageX;y=f.pageY};
function t(){with(c){g++;s=g/9;k+=(x-k)/20;Y+=(y-Y)/20;50>h.length&&h.push([k,Y]);globalAlpha=0.7;fillStyle=r;arc(0,0,l+m,0,7);fl();0==g%2&&h.shift();lineWidth=5;strokeStyle="#EC5954";for(var f=0;f<h.length-1;f++)bga(),mv(h[f][0],2*n.cos(-f+s)-(h[f][1]-h[f][1])/9+h[f][1]-9),ln(h[f+1][0],2*n.cos(-f+s)-(h[f+1][1]-h[f][1])/9+h[f+1][1]-9),sr(),coa();0==g%99&&q.push([n.random()*(l-9)+9,n.random()*(m-9)+9,41*n.random()+9]);for(f=0;f<q.length;f++)n.sqrt((k-q[f][0])*(k-q[f][0])+(Y-q[f][1])*(Y-q[f][1]))<q[f][2]&&
(q.splice(f,1),p++);for(f=0;f<q.length;f++)strokeStyle="tomato",bga(),arc(3*n.cos(s)+q[f][0],3*n.sin(s)+q[f][1],q[f][2],0,7),coa(),sr();font="30px arial";fillStyle="#fff";flx(p,20,40)}window.requestAnimationFrame(t)}t();



</script>


</body></html>

